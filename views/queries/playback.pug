extends ../layout/layout

block custom-head
  title Kyselyn katselu
  link(rel='stylesheet', href='/css/query-live.min.css')
  script(defer='defer',src='//cdn.metatavu.io/libs/chart-js/2.5.0/Chart.min.js',type='text/javascript')
  script(defer='defer',src='//cdn.metatavu.io/libs/fullscreen-api-polyfill/1.1.2/fullscreen-api-polyfill.min.js',type='text/javascript')
  script(defer='defer',src='/js/live-delphi-chart.js',type='text/javascript')
  script(defer='defer',src='/js/live-delphi-client.js',type='text/javascript')
  script(defer='defer',src='/js/finished-query-playback.js',type='text/javascript')
block body
  .container   
    form
      .row
        .col-12
          h1
            |Kyselyn katselu
      
      .row
        .col-12
          .row
            .col-12
              .card.card-inverse
                .card-block
                  h4.card-title
                    |Kyselyn
                    | 
                    =query.name
                    |-katselu
                  a(href="/queries/comment-playback?id=" + query.id style="margin-left: 20px") Kommenttikatseluun
                  a.btn(href='#', class="fullScreen" , id="fullScreen")
                    i.fa.fa-arrows-alt
                  .chart-outer-container
                    .chart-container
                      .chart-label.chart-label-left
                        .chart-label-inner
                          =query.labely
                      .chart-canvas-container
                        canvas#chart(width="400", height="400", data-ws-session=sessionId, data-query-id=query.id)
                      .chart-label.chart-label-bottom
                        .chart-label-inner
                          =query.labelx
          .row
            .col-12
              progress#progressBar.progress-bar(value='0', max='100')
              .row
                .col-6
                  .current-time
                .col-6.text-right
                  .end-time
          .row
            .col-12
              .control-buttons
                i.fa.fa-play.play-button(aria-hidden='true')
                i.fa.fa-pause.pause-button(aria-hidden='true', style="display:none")
                
              
